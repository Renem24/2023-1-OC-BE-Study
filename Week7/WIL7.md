# 7주차

## 5장 객체 지향 설계 5 원칙 - SOLID

### SRP (Single Responsibility Principle) - 단일 책임 원칙

> “어떤 클래스를 변경해야 하는 이유는 오직 하나뿐이어야 한다.” -로버트 C. 마틴
> 

클래스를 역할과 책임에 따라 분리 → 각각 하나의 역할과 책임만 갖게하자

- 클래스, 속성, 메서드, 패키지, 모듈, 컴포넌트, 프레임 워크에 적용

모델링 과정을 담당하는 추상화에 가장 중요

- 클래스, 속성, 메서드를 설계할 때, 꼭 SRP 고려하자.

**쉬운 예시**

- 남자의 역할을 남자친구, 아들, 사원, 소대원으로 분리 → 각각 단일 책임을 갖는 클래스로 분리

**장점**

- 역할, 책임을 분리 → 코드가 명확, 이해하기 쉬워짐
- 변경이 쉬워짐

### OCP (Open Closed Principle) - 개방 폐쇄 원칙

> “소프트웨어 엔티티(클래스, 모듈, 함수 등)는 확장에 대해서는 열려 있어야 하지만, 변경에 대해서는 닫혀 있어야한다.” -로버트 C. 마틴
> 
- 자신의 확장에는 열려 있고, 주변의 변화에 대해서는 닫혀 있어야 한다.

**예시**

- 데이터베이스 프로그래밍 - JDBC
    - 클라이언트가 JDBC를 사용 시, 데이터베이스를 오라클→MySQL 변경하는 경우
    - Connection 설정 부분만 수정 (클라이언트 코드 변경 필요X)
- 자바
    - 각 운영체제별 JVM과 목적 파일(.class)가 있기 때문에 구동환경 상관X

**쉬운 예시**

- 편의점
    - 판매 인터페이스에 속하는 구매 담당, 보안 담당, 청소 담당, 사장이 바뀌어도 손님이 구매하는 과정에는 변화X

**장점**

- 기존 코드를 안정적으로 유지
- 확장성 향상

### LSP (Liskov Substitution Principle) - 리스코프 치환 원칙

> “서브 타입은 언제나 자신의 기반 타입(base type)으로 교체할 수 있어야 한다.” -로버트 C. 마틴
> 
- 하위 클래스의 인스턴스는 상위형 객체 참조 변수에 대입해 상위 클래스의 인스턴스 역할을 하는데 문제가 없어야 한다.

객체 지향에서 상속→ 조직도/계층도 X, 분류도 O

- 하위 클래스 is a kind of 상위 클래스 (하위 분류는 상위 분류의 한 종류다.)
- 구현 클래스 is able to 인터페이스 (구현 분류는 인터페이스할 수 있어야 한다.)

**장점**

- 다형성 → 코드의 유연성↑

### ISP (Interface Segregation Principle) - 인터페이스 분리 원칙

> “클라이언트는 자신이 사용하지 않는 메서드에 의존 관계를 맺으면 안된다.” -로버트 C. 마틴
> 

**쉬운 예시**

- 남자의 역할을 남자친구, 아들, 사원, 소대원 역할의 인터페이스로 제한 → 남자 클래스는 그대로, 인터페이스만 분할

SRP(단일 책임 원칙)과 ISP(인터페이스 분할 원칙)은 같은 문제에 대한 두 가지 해결책

프로젝트 요구사항, 설계자 취향에 따라 선택 (보통 SRP 적용이 good)

**인터페이스 최소주의 원칙**

인터페이스를 통해 메서드를 외부에 제공 시, 최소한의 메서드만 제공하라.

상위 클래스는 풍성하게, 하위클래스는 빈약하게

- 상위 클래스에 최대한 많은 속성, 메서드를 넣고, 하위 클래스는 상위 클래스를 상속하여 구현

**장점**

- 클래스와 인터페이스 간 결합도↓
- 코드 모듈화↑

### DIP (Dependency Inversion Principle) - 의존 역전 원칙

> “고차원 모듈은 저차원 모듈에 의존하면 안된다. 이 두 모듈 모두 다른  추상화된 것에 의존해야 한다.”
”추상화된 것은 구체적인 것에 의존하면 안된다. 구체적인 것이 추상화된 것에 의존해야 한다.”
”자주 변경되는 구체(concrete) 클래스에 의존하지 마라.” -로버트 C. 마틴
> 
- 자신보다 변하기 쉬운 것에 의존하지 마라.

**쉬운 예시**

- 자동차는 스노우 타이어에 의존 → 계절마다 타이어 종류 변경 필요
- 자동차는 추상화된 “타이어 인터페이스”에 의존 → 구체적인 스노우타이어, 일반타이어, 광폭타이어로 변경해도 영향 받지 X

**장점**

- 클래스 간 결합도 ↓
- 변경, 확장 용이

### 정리 - SOLID

**관심사의 분리 (Seperation of Concerns)**

- 관심이 같은 것끼리는 하나의 객체 안으로 또는 친한 객체로 모으고,
- 관심이 다른 것들은 가능한 한 따로 떨어져 서로 영향을 주지 않도록 분리하라

⇒ 하나의 속성, 하나의 메서드, 하나의 클래스, 하나의 모듈 또는 하나의 패키지에는 하나의 관심사만 들어 있어야 함

**객체 지향 설계 5원칙 (SOLID)의 장점**

- 유연성
- 재사용성
- 유지보수성